<aside class="sidebar-wrapper">
  <div class="sidebar-content">
    <div class="brand-section">
      <div class="brand-logo">TM</div>
      <div class="brand-text">TaskManager</div>
    </div>

    <nav class="nav flex-column flex-grow-1">
      <a class="nav-link <%= (typeof path !== 'undefined' && path === '/dashboard') ? 'active' : '' %>"
        href="/dashboard">
        <i class="bi bi-grid-1x2-fill"></i>
        <span>Dashboard</span>
      </a>
      <a class="nav-link <%= (typeof path !== 'undefined' && path === '/tasks') ? 'active' : '' %>" href="/tasks">
        <i class="bi bi-check-square-fill"></i>
        <span>Tasks</span>
      </a>
      <a class="nav-link <%= (typeof path !== 'undefined' && path === '/search') ? 'active' : '' %>" href="/search">
        <i class="bi bi-search"></i>
        <span>Search</span>
      </a>
      <a class="nav-link <%= (typeof path !== 'undefined' && path === '/activity') ? 'active' : '' %>" href="/activity">
        <i class="bi bi-clock-history"></i>
        <span>Activity Log</span>
      </a>
    </nav>

    <div class="mt-auto mb-3 px-3">
      <button id="themeToggle" class="btn btn-light w-100 d-flex align-items-center justify-content-center gap-2"
        style="background: var(--bg-surface); border: 1px solid var(--border-color); color: var(--text-main);">
        <i class="bi bi-moon-fill"></i>
        <span>Toggle Theme</span>
      </button>
    </div>

    <div class="user-profile-section">
      <img src="https://ui-avatars.com/api/?name=<%= userName %>&background=4f46e5&color=fff&rounded=true" alt="User"
        class="user-avatar">
      <div class="d-flex flex-column ms-2 overflow-hidden">
        <a href="/profile" class="fw-bold text-truncate text-decoration-none"
          style="font-size: 0.9rem; color: var(--text-main);">
          <%= userName || 'User' %>
        </a>
        <a href="/auth/logout" class="text-danger small text-decoration-none fw-bold"
          style="font-size: 0.75rem;">LOGOUT</a>
      </div>
    </div>
  </div>
</aside>